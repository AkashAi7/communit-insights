import { SSEClientTransport } from '@modelcontextprotocol/sdk/client/sse.js';

async function buildSSEClientTransport(url, headers) {
  const resolvedHeaders = typeof headers === "function" ? await headers() : headers;
  return new SSEClientTransport(new URL(url), {
    requestInit: {
      headers: {
        ...resolvedHeaders
      }
    },
    eventSourceInit: {
      fetch(input, init) {
        const headers2 = new Headers({
          ...resolvedHeaders,
          ...init?.headers
        });
        return fetch(input, {
          ...init,
          headers: headers2
        });
      }
    }
  });
}

export { buildSSEClientTransport };
//# sourceMappingURL=mcp-transport.mjs.map
//# sourceMappingURL=mcp-transport.mjs.map