'use strict';

var sse_js = require('@modelcontextprotocol/sdk/client/sse.js');

async function buildSSEClientTransport(url, headers) {
  const resolvedHeaders = typeof headers === "function" ? await headers() : headers;
  return new sse_js.SSEClientTransport(new URL(url), {
    requestInit: {
      headers: {
        ...resolvedHeaders
      }
    },
    eventSourceInit: {
      fetch(input, init) {
        const headers2 = new Headers({
          ...resolvedHeaders,
          ...init?.headers
        });
        return fetch(input, {
          ...init,
          headers: headers2
        });
      }
    }
  });
}

exports.buildSSEClientTransport = buildSSEClientTransport;
//# sourceMappingURL=mcp-transport.js.map
//# sourceMappingURL=mcp-transport.js.map